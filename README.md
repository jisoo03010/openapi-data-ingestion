# 충청북도 OpenAPI 활용 데이터 수집 및 저장 프로그램

이 프로그램은 충청북도의 다양한 OpenAPI를 활용하여 데이터를 수집하고, 수집된 데이터를 데이터베이스에 저장하는 역할을 합니다. 다양한 API를 사용하여 수질, 기상, 대기, 관광지 정보 등 다양한 데이터를 자동으로 수집하고 저장할 수 있습니다.

<<<<<<< HEAD

/**  엑셀 파일 크롤링  **/
-  water_quality_code.xlsx : 물환경 수질측정망 운영결과 DB_물환경_코드_코드명
실행 방법 : python water_quality_code_crawling.py

-  weather_point_code.xlsx : 4.1 단기예보 조회서비스_오픈API활용가이드_격자_위경도(20240101).xlsx

- 국가 생물종 이미지 크롤링
실행 방법 : python water_quality_code_crawling.py

- 국가 생물종 정보 조회 (준비중)

- 기상 격자 위경도 정보 크롤링
실행 방법 : python lon_lat_info_crawling.py



--------------------------------------------------------
/**  수질 조회 API명령어  **/
python main.py water_quality
=======
---
>>>>>>> 02b0873930184487085d929eb67fee446604386c

## 📋 주요 기능

- **OpenAPI 데이터 수집 및 저장:** 충청북도의 다양한 OpenAPI에서 데이터를 수집하여 데이터베이스에 저장합니다.
- **엑셀 파일 크롤링:** 특정 엑셀 파일에서 데이터를 크롤링하여 데이터베이스에 저장합니다.
- **다양한 데이터 조회 기능:** 수질, 기상, 대기, 관광지 정보 등 여러 분야의 데이터를 실시간으로 조회할 수 있습니다.

---

## 🛠 설정 및 사용법

### 1. 새로운 OpenAPI 코드 추가 방법

1. **서버 파서 설정**  
   `get_parser()` 메서드에서 서버 파서를 설정합니다.

2. **Main문 설정**  
   `if __name__ == '__main__':` 아래에 조건문을 추가하여, 새로운 OpenAPI 함수를 호출하도록 설정합니다.

<<<<<<< HEAD

--------------------------------------------------------
/** 실시간 기상 정보 조회 API명령어**/
python main.py weather
--------------------------------------------------------
=======
3. **테이블 및 컬럼 명 지정**  
   해당 OpenAPI 함수에서 데이터를 저장할 테이블 명과 컬럼 명 등을 지정하고, 이 정보를 `response_data()`의 파라미터로 전달합니다.
>>>>>>> 02b0873930184487085d929eb67fee446604386c

4. **JSON 데이터 변환 및 저장**  
   `response_data()` 함수에서 데이터를 JSON 형태로 변환한 후, `save_to_database()` 함수를 통해 데이터베이스에 저장합니다.

<<<<<<< HEAD
--------------------------------------------------------
/** 문화재 조회 API명령어**/
python main.py cultural
--------------------------------------------------------


--------------------------------------------------------
/** 축산 시설 정보 조회 API명령어 **/
python main.py farminfo
--------------------------------------------------------


--------------------------------------------------------
/** 관광지 정보  조회 API명령어 **/
python main.py tourism
--------------------------------------------------------
=======
5. **DB 연결 및 데이터 저장**  
   `db_connect()` 함수를 통해 DB에 연결한 후, 쿼리를 생성하고 실행하여 데이터를 저장합니다. 저장이 성공하면 메시지를 출력합니다.

---

## 📊 엑셀 파일 크롤링

### **물환경 수질측정망 운영결과**

- **파일명:** `water_quality_code.xlsx`
- **실행 방법:** 
  ```bash
  python main.py [API명령어] [옵션]
  python water_quality_code_crawling.py

  ---
  
## 🔍 API 조회 명령어 

### 1. 수질 조회
```bash
python main.py [API 이름]
ex) python main.py water_quality
>>>>>>> 02b0873930184487085d929eb67fee446604386c

